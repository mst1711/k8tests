# Общее описание принципа работы
Во время запроса видеофайта Ngnix проверяет наличие ключа в redis, если ключ существует, то отдаем контент. Если ключа нет, возвращаем 410.  
Ключ в redis добавляется с параметром EX (expire) равному 7 суткам. По прошествии этого времени редис сам удаляет ключ.  
Nginx отдает byte-range, mp4 контент.

# Предварительные условия
- установите docker
- установите docker-compose
- установите make

# Запуск
```
make run
make filldb
```

# Тестирование
в браузере можно открыть любую их ссылок:
- http://127.0.0.1/video/1.mp4
- http://127.0.0.1/video/2.mp4
- http://127.0.0.1/video/3.mp4
- http://127.0.0.1/video/4.mp4

# Варинаты расширения
- Вместо локального хранилища видео контент можно хранить в s3 и ходить в него через s3-proxy.
- URI можно кодировать в md5sum, будет в виде /video/d7a3decdb6280eb0ef3a059ac35ea0ee
- Кастомизировать страницы error (410, 5xx)
